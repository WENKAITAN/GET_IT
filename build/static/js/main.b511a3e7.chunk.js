(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{38:function(e,t,n){},45:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(29),s=n.n(r),i=(n(38),n(17)),o=n(2),l=n(10),j=n(11),u=n(13),h=n(12),d=n(3),b=n(4),O=n(53),m=n(49),p=n(0),x=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.items[t];return Object(p.jsx)(d.b,{to:"/products/".concat(t),style:{textDecoration:"none"},children:Object(p.jsxs)(O.a,{style:{color:"black"},className:"grow h-100",children:[Object(p.jsx)(m.a,{src:n.imageLink,fluid:!0}),Object(p.jsxs)(O.a.Body,{children:[Object(p.jsx)(O.a.Title,{children:Object(p.jsx)("b",{children:n.name})}),Object(p.jsx)("hr",{}),Object(p.jsxs)("div",{className:"flex",children:[Object(p.jsx)(O.a.Text,{children:n.color}),Object(p.jsxs)(O.a.Text,{children:["$",n.price]})]})]})]})})}}]),n}(a.Component),f=x,v=n(50),g=n(51),y=n(52),S=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.shelfItems;return Object(p.jsx)(v.a,{children:Object(p.jsx)(g.a,{children:n.map((function(e,n){return Object(p.jsx)(y.a,{sm:6,md:4,lg:3,children:Object(p.jsx)(f,{id:e,items:t},n)},n)}))})})}}]),n}(a.Component),N=S,C=function(e){var t=e.items;return Object(p.jsx)("div",{className:"list-books-content",children:[{type:"jacket",title:"Jackets"},{type:"bottom",title:"Bottoms"},{type:"tee",title:"Tees"},{type:"accessory",title:"Accessories"}].map((function(e,n){var a=Object.keys(t).filter((function(n){return t[n].shelf===e.type}));return Object(p.jsx)("div",{children:a.length>0&&Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:e.title.charAt(0).toUpperCase()+e.title.slice(1)}),Object(p.jsx)("div",{children:Object(p.jsx)(N,{shelfItems:a,items:t})})]})},n)}))})},w=n(21),k=n(54),I=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleSubmit=function(e,t){e.preventDefault();var n=a.state,c=n.quantity,r=n.size,s=n.item,i=s.imageLink?s.imageLink:null,o={id:t,quantity:parseInt(c),size:r,imageLink:i,name:s.name,price:s.price};a.props.addToCart(o),a.setState({quantity:"1",size:"xxs"})},a.handleChange=function(e){var t=e.target.value;a.setState(Object(i.a)({},e.target.name,t))},a.state={quantity:"1",size:"xxs",item:{}},a.handleChange=a.handleChange.bind(Object(w.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;fetch("http://localhost:5000/product/".concat(t)).then((function(e){return e.json()})).then((function(t){e.setState(Object(o.a)(Object(o.a)({},e.state),{},{item:t}))}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.quantity,a=t.size,c=t.item,r=c.imageLink?c.imageLink:null;return Object(p.jsx)(v.a,{children:Object(p.jsxs)(g.a,{className:"horizontal",children:[Object(p.jsx)(y.a,{md:12,lg:6,children:Object(p.jsx)("img",{src:r,alt:c.name,style:{width:"30rem"}})}),Object(p.jsx)(y.a,{md:6,lg:6,children:Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:Object(p.jsx)("strong",{children:c.name})}),Object(p.jsx)("h2",{children:Object(p.jsx)("strong",{children:c.color})}),Object(p.jsxs)("h3",{children:["$",c.price]}),Object(p.jsx)("div",{children:Object(p.jsxs)("form",{onSubmit:function(t){return e.handleSubmit(t,c.product_id)},children:[c.sizeAble&&Object(p.jsxs)("label",{children:["Pick your size:",Object(p.jsxs)("select",{value:a,onChange:this.handleChange,name:"size",children:[Object(p.jsx)("option",{value:"xxs",children:"xxs"}),Object(p.jsx)("option",{value:"xs",children:"xs"}),Object(p.jsx)("option",{value:"s",children:"s"}),Object(p.jsx)("option",{value:"m",children:"m"}),Object(p.jsx)("option",{value:"l",children:"l"}),Object(p.jsx)("option",{value:"xl",children:"xl"}),Object(p.jsx)("option",{value:"xxl",children:"xxl"})]})]}),Object(p.jsxs)("label",{children:["Quantity:",Object(p.jsx)("input",{type:"number",value:n,name:"quantity",onChange:this.handleChange,min:"1"})]}),Object(p.jsx)("div",{className:"d-grid gap-2 button",children:Object(p.jsx)(k.a,{variant:"success",size:"lg",type:"submit",children:"Add to Cart"})})]})}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{children:"Detail"}),Object(p.jsx)("ul",{children:c.description&&c.description.map((function(e,t){return Object(p.jsx)("li",{children:e},t)}))})]}),Object(p.jsx)("hr",{bold:"200"}),Object(p.jsx)("h3",{children:"check out the size & fit"}),Object(p.jsx)("img",{src:c.sizeChart,alt:"sizechart",style:{width:"20rem"}}),Object(p.jsx)("hr",{bold:"200"})]})})]})})}}]),n}(a.Component),q=(n(45),n(9)),z=Object(a.createContext)(),T=z.Provider,J=function(e){var t=e.children,n=Object(a.useState)(!1),c=Object(q.a)(n,2),r=c[0],s=c[1];Object(a.useEffect)((function(){fetch("http://localhost:5000/auth/login").then((function(e){if(!e.ok)throw new Error("Unauthenticated");return e.json()})).then((function(e){return s(e)})).catch((function(e){return s(!1)}))}),[]);return Object(p.jsx)(T,{value:{authenticate:function(e,t){return fetch("http://localhost:5000/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t}),headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Login Failed");return e.json()})).then((function(e){return localStorage.id=e.email,s(e),e}))},signout:function(){return fetch("http://localhost:5000/auth/logout",{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Logout Failed");return e.json()})).then((function(e){return localStorage.removeItem("id"),s(!1),e}))},isAuthenticated:!(!r||!localStorage.getItem("id")),signup:function(e,t){return fetch("http://localhost:5000/auth/signup",{method:"POST",body:JSON.stringify({email:e,password:t}),headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("Signup Failed");return e.json()})).then((function(e){return localStorage.clear(),localStorage.id=e.email,s(e),e}))},user:r},children:t})},A=function(){var e=Object(a.useContext)(z).isAuthenticated;return!localStorage.id&&!e&&Object(p.jsx)(d.b,{className:"btn btn-primary",to:"/login",children:"Log In"})},L=Object(b.h)((function(e){var t=e.history,n=Object(a.useContext)(z);return(localStorage.id||n.isAuthenticated)&&Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){localStorage.removeItem("email"),n.signout().then((function(){return t.push("/")}))},children:"Log Out"})})),E=function(){var e=Object(a.useContext)(z),t=e.user,n=e.isAuthenticated,c="";return c=t.email?t.email:localStorage.getItem("id"),(localStorage.id||n)&&Object(p.jsx)("div",{className:"nav-item nav-link",children:Object(p.jsx)(d.b,{to:"/account",children:c})})},D=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={query:"",results:[],items:[]},e.handleChange=function(t){e.setState({query:t})},e.handleSubmit=function(t){t.preventDefault();var n=e.state,a=n.query,c=n.items.filter((function(e){return e.name.toLowerCase().includes(a)||e.color.toLowerCase().includes(a)||e.shelf.toLowerCase().includes(a)?e:0}));e.setState(Object(o.a)(Object(o.a)({},e.state),{},{query:"",results:c}))},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:5000/product").then((function(e){return e.json()})).then((function(t){e.setState(Object(o.a)(Object(o.a)({},e.state),{},{items:t}))}))}},{key:"render",value:function(){var e=this;return Object(p.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(p.jsxs)(d.b,{to:"/",className:"navbar-brand",children:["Get",Object(p.jsx)("b",{children:"It"})]}),Object(p.jsx)("button",{type:"button",className:"navbar-toggler","data-toggle":"collapse","data-target":"#navbarCollapse",children:Object(p.jsx)("span",{className:"navbar-toggler-icon"})}),Object(p.jsxs)("div",{id:"navbarCollapse",className:"collapse navbar-collapse justify-content-start",children:[Object(p.jsxs)("div",{className:"navbar-nav",children:[Object(p.jsx)(d.c,{to:"/",className:"nav-item nav-link",children:"Home"}),Object(p.jsxs)("div",{className:"nav-item dropdown",children:[Object(p.jsx)("div",{"data-toggle":"dropdown",className:"nav-item nav-link dropdown-toggle",children:"Closet"}),Object(p.jsxs)("div",{className:"dropdown-menu",children:[Object(p.jsx)(d.b,{to:"/products?shelf=jacket",className:"dropdown-item",children:"Jackets"}),Object(p.jsx)(d.b,{to:"/products?shelf=bottom",className:"dropdown-item",children:"Bottoms"}),Object(p.jsx)(d.b,{to:"/products?shelf=tee",className:"dropdown-item",children:"Tees"}),Object(p.jsx)(d.b,{to:"/products?shelf=accessory",className:"dropdown-item",children:"Accessories"})]})]})]}),Object(p.jsx)("form",{className:"navbar-form form-inline",children:Object(p.jsxs)("div",{className:"input-group query-box",children:[Object(p.jsx)("input",{type:"text",id:"query",className:"form-control",placeholder:"Search here...",onChange:function(t){return e.handleChange(t.target.value.toLowerCase())},value:this.state.query}),Object(p.jsx)("div",{className:"input-group-append",style:{marginLeft:"10px",marginRight:"10px",height:"45px"},children:Object(p.jsx)("span",{className:"input-group-text",children:Object(p.jsx)("button",{className:"btn btn-primary",disabled:!this.state.query,onClick:function(t){return e.handleSubmit(t)},children:Object(p.jsx)("i",{className:"material-icons",children:"\ue8b6"})})})})]})}),this.state.results.length>0&&Object(p.jsx)(b.a,{to:{pathname:"/search-results",state:{results:this.state.results}}}),Object(p.jsxs)("div",{className:"navbar-nav ml-auto action-buttons",children:[Object(p.jsx)(A,{}),Object(p.jsx)(L,{}),Object(p.jsxs)(d.b,{to:"/cart",className:"nav-link dropdown-toggle mr-4",children:["Shopping bag ",JSON.parse(localStorage.getItem("cart"))&&Object(p.jsxs)("span",{children:["(",Object.keys(JSON.parse(localStorage.getItem("cart"))).length,")"]})]}),Object(p.jsx)(E,{})]})]})]})}}]),n}(a.Component),F=D;var P=function(e){var t=e.items,n=new URLSearchParams(Object(b.g)().search).get("shelf"),a=Object.keys(t).filter((function(e){return t[e].shelf===n}));return Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:n}),Object(p.jsx)("div",{children:Object(p.jsx)(N,{shelfItems:a,items:t})})]})},U=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){for(var e=this.props.location.state.results,t={},n=0;n<e.length;n++){var a=e[n];t[a.product_id]=a}return Object(p.jsx)("div",{children:Object(p.jsx)(C,{items:t})})}}]),n}(a.Component),W=U,B=function(){return Object(p.jsxs)("div",{className:"error",children:[Object(p.jsx)("h1",{children:"Sorry ..."}),Object(p.jsx)("p",{children:"There's nothing here!"})]})},M={email:"",password:""};var Q=function(e){var t=Object(a.useState)(M),n=Object(q.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),l=Object(q.a)(s,2),j=l[0],u=l[1],h=Object(a.useState)(!1),O=Object(q.a)(h,2),m=O[0],x=O[1],f=Object(a.useContext)(z),v=function(e){var t=e.target,n=t.name,a=t.value;r(Object(o.a)(Object(o.a)({},c),{},Object(i.a)({},n,a)))},g=(e.location.state||{from:{pathname:"/"}}).from;return m?Object(p.jsx)(b.a,{to:g}):Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=c.email,n=c.password;f.authenticate(t,n).then((function(e){x(!0)})).catch((function(e){u("Invalid email or password")}))},className:"loginForm",children:[Object(p.jsx)("h3",{children:"Sign In"}),""!==j&&Object(p.jsx)("div",{className:"alert alert-danger",role:"alert",children:j}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Email address"}),Object(p.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter email",name:"email",onChange:v,value:c.email})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Password"}),Object(p.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",name:"password",onChange:v,value:c.password})]}),Object(p.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",children:"Sign In"}),Object(p.jsx)(d.b,{to:"/signup",children:"Create Account"})]})},_={email:"",password:""};var $=function(e){var t=Object(a.useState)(_),n=Object(q.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),l=Object(q.a)(s,2),j=l[0],u=l[1],h=Object(a.useState)(!1),d=Object(q.a)(h,2),O=d[0],m=d[1],x=Object(a.useContext)(z),f=function(e){var t=e.target,n=t.name,a=t.value;r(Object(o.a)(Object(o.a)({},c),{},Object(i.a)({},n,a)))},v=(e.location.state||{from:{pathname:"/"}}).from;return O?Object(p.jsx)(b.a,{to:v}):Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=c.email,n=c.password;x.signup(t,n).then((function(e){m(!0)})).catch((function(e){console.error(e),u("Sign up failed")}))},className:"loginForm",children:[Object(p.jsx)("h3",{children:"Sign Up"}),""!==j&&Object(p.jsx)("div",{className:"alert alert-danger",role:"alert",children:j}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Email address"}),Object(p.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter email",name:"email",onChange:f,value:c.email})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{children:"Password"}),Object(p.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",name:"password",onChange:f,value:c.password})]}),Object(p.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",children:"Sign Up"})]})},R=n(26),Y=n.n(R),G=n(33),H=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={item:{}},e.removeItem=function(t){e.props.deleteItem("".concat(e.props.itemInfo.id,"-").concat(e.props.itemInfo.size))},e.handleChange=function(t){console.log(t.target),e.setState({item:Object(o.a)(Object(o.a)({},e.state.item),{},{quantity:t.target.value})});var n="".concat(e.props.itemInfo.id,"-").concat(e.props.itemInfo.size),a=JSON.parse(localStorage.getItem("cart"));a[n].quantity=t.target.value,localStorage.setItem("cart",JSON.stringify(a))},e.updateSize=function(t){e.setState({item:Object(o.a)(Object(o.a)({},e.state.item),{},{size:t.target.value.toString()})});var n="".concat(e.props.itemInfo.id,"-").concat(e.props.itemInfo.size),a=JSON.parse(localStorage.getItem("cart"));a[n].size=t.target.value,localStorage.setItem("cart",JSON.stringify(a))},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:5000/product/".concat(this.props.itemInfo.id)).then((function(e){return e.json()})).then((function(t){e.setState({item:Object(o.a)(Object(o.a)({},t),e.props.itemInfo)})}))}},{key:"render",value:function(){var e=this,t=this.state.item;return Object(p.jsxs)(g.a,{children:[Object(p.jsxs)(y.a,{className:"flex",xs:8,md:4,children:[Object(p.jsx)(O.a.Img,{variant:"top",src:t.imageLink,style:{width:"140px"}}),Object(p.jsxs)(y.a,{style:{marginTop:"50px",width:"200ox"},children:[Object(p.jsx)(O.a.Title,{className:"cartTitle",children:Object(p.jsx)("b",{children:t.name})}),Object(p.jsxs)("div",{style:{display:"flex"},children:[Object(p.jsxs)("select",{style:{width:"45px",height:"25px"},value:t.size,onChange:function(t){return e.updateSize(t)},name:"size",children:[Object(p.jsx)("option",{value:"xxs",children:"xxs"}),Object(p.jsx)("option",{value:"xs",children:"xs"}),Object(p.jsx)("option",{value:"s",children:"s"}),Object(p.jsx)("option",{value:"m",children:"m"}),Object(p.jsx)("option",{value:"l",children:"l"}),Object(p.jsx)("option",{value:"xl",children:"xl"}),Object(p.jsx)("option",{value:"xxl",children:"xxl"})]}),Object(p.jsx)("input",{class:"media-quantity",style:{width:"45px",height:"25px"},type:"number",onChange:function(t){return e.handleChange(t)},value:t.quantity,name:"quantity",min:"1"}),Object(p.jsx)("div",{class:"media-remove",children:Object(p.jsx)(k.a,{onClick:function(t){return e.removeItem(t)},children:" remove "})})]})]})]}),Object(p.jsx)(y.a,{xs:12,md:4,children:Object(p.jsx)("input",{className:"full-quantity",style:{transform:"translate(450%, 50%)",marginTop:"50px",width:"40px"},type:"number",onChange:function(t){return e.handleChange(t)},value:t.quantity,name:"quantity",min:"1"})}),Object(p.jsx)(y.a,{xs:12,md:4,children:Object(p.jsxs)(O.a.Text,{style:{fontSize:"20px",fontWeight:"600",float:"right",marginTop:"50px"},children:["$",t.price*t.quantity]})})]})}}]),n}(c.a.Component),K=H;var V=function(e){var t=e.itemdelete,n=(e.updateQuantity,JSON.parse(localStorage.getItem("cart"))),a=function(e){t(e)},c=function(){var e=Object(G.a)(Y.a.mark((function e(t){var n,a,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=JSON.parse(localStorage.getItem("cart")),a=JSON.parse(localStorage.getItem("email")),c=[],Object.keys(n).forEach((function(e){var t=n[e];c.push(t)})),fetch("http://localhost:5000/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({line_items:c,email:a})}).then((function(e){return e.json()})).then((function(e){window.location.href=e.url}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(v.a,{ClassName:"carttesting",children:Object(p.jsxs)(g.a,{className:"horizontal",children:[Object(p.jsx)(O.a,{style:{width:"100%"},children:Object(p.jsxs)(O.a.Body,{children:[Object(p.jsxs)(g.a,{className:"all-description",children:[Object(p.jsx)(y.a,{className:"description",xs:6,md:4,children:Object(p.jsx)(O.a.Title,{style:{fontSize:"30px",fontWeight:"600"},children:"Description"})}),Object(p.jsx)(y.a,{className:"quantity",xs:6,md:4,children:Object(p.jsx)(O.a.Title,{style:{fontSize:"30px",fontWeight:"600",textAlign:"center"},children:"Quantity"})}),Object(p.jsx)(y.a,{className:"price",xs:6,md:4,children:Object(p.jsx)(O.a.Title,{style:{fontSize:"30px",fontWeight:"600",float:"right"},children:"price"})})]}),Object(p.jsx)("hr",{bold:"200"}),n&&Object.keys(n).map((function(e){return Object(p.jsx)(K,{itemInfo:n[e],deleteItem:a},e)}))]})}),Object(p.jsx)(O.a,{body:!0,style:{width:"100%"},children:Object(p.jsx)(k.a,{onClick:function(e){return c(e)},variant:"secondary",size:"lg",type:"submit",style:{background:"#000000",color:"#FFFFFF",float:"right"},children:"CheckOut"})})]})})},X=function(){var e=Object(a.useContext)(z).user;return Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"ACCOUNT"}),Object(p.jsx)("p",{children:e.email}),Object(p.jsx)(L,{}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{children:"Order history"}),Object(p.jsx)("p",{children:"You haven't placed any orders yet."})]})]})},Z=n(6),ee=["component"],te=function(e){var t=e.component,n=Object(Z.a)(e,ee),c=Object(a.useContext)(z);return Object(p.jsx)(b.b,Object(o.a)(Object(o.a)({},n),{},{render:function(e){return c.isAuthenticated?Object(p.jsx)(t,Object(o.a)({},e)):Object(p.jsx)(b.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},ne=function(){return Object(a.useEffect)((function(){window.location.href.includes("success")&&localStorage.removeItem("cart")})),Object(p.jsxs)("div",{style:{textAlign:"center"},children:[Object(p.jsx)("h1",{children:"Thanks for your order!"}),Object(p.jsxs)("p",{children:["We appreciate your business! If you have any questions, please email",Object(p.jsx)("a",{href:"mailto:orders@example.com",children:"orders@example.com"}),"."]})]})},ae=function(){return Object(p.jsxs)("div",{style:{textAlign:"center"},children:[Object(p.jsx)("h1",{children:"Your order has been canceled "}),Object(p.jsxs)("p",{children:["We appreciate your business! Please try it again!",Object(p.jsx)("a",{href:"mailto:orders@example.com",children:"orders@example.com"}),"."]})]})},ce=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={cart:{},items:{}},e.addToCart=function(t){var n="".concat(t.id,"-").concat(t.size);if(n in e.state.cart){e.setState({cart:Object(o.a)(Object(o.a)({},e.state.cart),{},Object(i.a)({},n,Object(o.a)(Object(o.a)({},e.state.cart[n]),{},{quantity:e.state.cart[n].quantity+t.quantity})))});var a=JSON.parse(localStorage.getItem("cart"))||{};a[n].quantity+=t.quantity,localStorage.setItem("cart",JSON.stringify(a))}else{e.setState({cart:Object(o.a)(Object(o.a)({},e.state.cart),{},Object(i.a)({},n,t))});var c=JSON.parse(localStorage.getItem("cart"))||{};c[n]=t,localStorage.setItem("cart",JSON.stringify(c))}},e.deleteItems=function(t){console.log(t),e.setState((function(e){var n=Object(o.a)({},e);return n.cart[t]=void 0,n}));var n=JSON.parse(localStorage.getItem("cart"));n[t]=void 0,localStorage.setItem("cart",JSON.stringify(n))},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:5000/product").then((function(e){return e.json()})).then((function(t){for(var n={},a=0;a<t.length;a++){var c=t[a];n[c.product_id]=c}e.setState(Object(o.a)(Object(o.a)({},e.state),{},{items:n}))}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.items,a=t.cart;return Object(p.jsxs)(d.a,{children:[Object(p.jsx)(F,{items:n,cart:a}),Object(p.jsxs)(b.d,{children:[Object(p.jsx)(b.b,{exact:!0,path:"/",render:function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"header"}),Object(p.jsx)(C,Object(o.a)(Object(o.a)({},e),{},{items:n}))]})}}),Object(p.jsx)(b.b,{path:"/products/:id",render:function(t){return Object(p.jsx)(I,Object(o.a)(Object(o.a)({},t),{},{items:n,addToCart:function(t){return e.addToCart(t)}}))}}),Object(p.jsx)(b.b,{path:"/products",render:function(e){return Object(p.jsx)(P,Object(o.a)(Object(o.a)({},e),{},{items:n}))}}),Object(p.jsx)(b.b,{path:"/search-results",render:function(e){return Object(p.jsx)(W,Object(o.a)(Object(o.a)({},e),{},{items:n}))}}),Object(p.jsx)(b.b,{path:"/cart",render:function(t){return Object(p.jsx)(V,Object(o.a)(Object(o.a)({},t),{},{items:n,cart:a,itemdelete:function(t){return e.deleteItems(t)},updateQuantity:function(t,n){return e.updateItem(t,n)}}))}}),Object(p.jsx)(te,{path:"/account",component:X}),Object(p.jsx)(b.b,{path:"/login",component:Q}),Object(p.jsx)(b.b,{path:"/signup",component:$}),Object(p.jsx)(b.b,{path:"/success",component:ne}),Object(p.jsx)(b.b,{path:"/cancel",component:ae}),Object(p.jsx)(b.b,{component:B})]})]})}}]),n}(c.a.Component),re=ce;n(47);s.a.render(Object(p.jsx)(J,{children:Object(p.jsx)(re,{})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.b511a3e7.chunk.js.map